{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Phonebook.js","services/person.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","PersonForm","newName","handleNameChange","newNumber","handleNumberChange","addPerson","type","onClick","Persons","person","deletePerson","name","number","id","Phonebook","persons","results","toLowerCase","includes","map","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","useEffect","personService","initialPersons","event","target","preventDefault","some","window","confirm","find","p","updatedPerson","returnedPerson","setTimeout","catch","error","console","log","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4fb80214.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <form>\n      <div>\n        filter shown with <input value={filter} onChange={handleFilterChange} />\n      </div>\n    </form>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = ({ newName, handleNameChange, newNumber, handleNumberChange, addPerson }) => {\n  return (\n    <form>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type='submit' onClick={addPerson}>\n          add\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Persons = ({ person, deletePerson }) => {\n  return (\n    <div>\n      {person.name} {person.number} <button onClick={() => deletePerson(person.id)}>delete</button>\n    </div>\n  );\n};\n\nexport default Persons;\n","import React from 'react';\nimport Persons from './Persons';\n\nconst Phonebook = ({ persons, filter, deletePerson }) => {\n  const results = !filter\n    ? persons\n    : persons.filter((person) => person.name.toLowerCase().includes(filter.toLowerCase()));\n\n  return (\n    <div>\n      {results.map((person) => (\n        <Persons key={person.name} person={person} deletePerson={deletePerson} />\n      ))}\n    </div>\n  );\n};\n\nexport default Phonebook;\n","import axios from 'axios';\nconst baseUrl = 'api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deleteIt = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, update, deleteIt };\n","import React from 'react';\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className='error'>{message}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Phonebook from './components/Phonebook';\nimport person from './services/person';\nimport personService from './services/person';\nimport Notification from './components/Notification';\nimport './index.css';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('');\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    if (persons.some((person) => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const person = persons.find((p) => p.name === newName);\n        const updatedPerson = { ...person, number: newNumber };\n        personService\n          .update(updatedPerson.id, updatedPerson)\n          .then((returnedPerson) => {\n            setPersons(persons.map((p) => (p.id !== person.id ? p : returnedPerson)));\n            setNewName('');\n            setNewNumber('');\n            setMessage(`${updatedPerson.name} was successfully updated`);\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n          })\n          .catch((error) => {\n            console.log(error);\n            setPersons(persons.filter((p) => p.id !== updatedPerson.id));\n            setNewName('');\n            setNewNumber('');\n            setMessage(`[ERROR] ${updatedPerson.name} was already deleted from server`);\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n          });\n      }\n    } else {\n      const personToAdd = {\n        name: newName,\n        number: newNumber,\n      };\n      personService\n        .create(personToAdd)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n          setNewName('');\n          setNewNumber('');\n          setMessage(`${newName} was successfully added`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        })\n        .catch((error) => {\n          setMessage(`${newName} wasn't successfully added`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        });\n    }\n  };\n\n  const deletePerson = (id) => {\n    const person = persons.find((p) => p.id === id);\n    if (window.confirm(`delete ${person.name}?`)) {\n      personService\n        .deleteIt(person.id)\n        .then((response) => {\n          setMessage(`Deleted ${person.name}`);\n        })\n        .catch((error) => {\n          setMessage(`Issue deleting ${person.name}`);\n        });\n      setPersons(persons.filter((p) => p.id !== id));\n      setTimeout(() => {\n        setMessage(null);\n      }, 3000);\n    }\n  };\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <PersonForm\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        addPerson={addPerson}\n      />\n      <h1>add a new</h1>\n      <h3>Numbers</h3>\n      <Phonebook persons={persons} filter={filter} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}